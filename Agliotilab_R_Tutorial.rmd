---
title: <center> <font size="+3"> COSAN R Course </font> </center>
subtitle: <center> <font size="+3">'A basic R tutorial' </font> </center>
author: "Marco Gandolfo"
date: "`r Sys.Date()`"
pagetitle: R
output:
    
    rmdformats::readthedown:
    highlight: espresso
    df_print: tibble
---



```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)

library(knitr)
library(rmdformats)

## Global options
options(max.print="75")
opts_chunk$set(echo=TRUE,
	             cache=TRUE,
               prompt=FALSE,
               tidy=TRUE,
               comment=NA,
               message=FALSE,
               warning=FALSE)
opts_knit$set(width=100)



```


## Welcome to my **R Course**. 

With this course, I aim to introduce you to the R programming language. The course doesn't assume __any previous experience__ with this or other languages. 
Like probably most of you reading this, I use <b> R </b> for psychological sciences. Even if this course, being introductory, is supposed to be pretty general, I will be likely showing you how to do in R several of your daily tasks when dealing with data handling, processing, analysis and reporting.

Programming efficiently in any language is not trivial, and the learning curve is very steep at the beginning. Further, as a psychologists, we may even be biased towards ourselves, thinking we will not be able to pick such skill which is rather for engineers or statisticians!  I hope with this course I can convince you otherwise, that after a steep learning curve, mastering and developing further your programming skills can be fun and extremely useful for your present and future jobs. Further, it will save your fingers from clicking a billion times on a spreadsheet and perhaps reduce also the amount of hidden mistakes that may be committed while dealing with the data.

## What is R?

Cool, but what is it! R is __an open source programming language for statistical computing__. Therefore:

1. R is __open source__ , this means that thankfully it is free, and open to the public. Every line of code that generates the R language is available and public. People can contribute to its developement.People can check what is the core of the functions that it uses (e.g. in which way tha variance is estimated in a lm with the basic function).

2. A __programming language__, similar to other languages such as Python, C, Java, Javascript, PHP, C++. It has its own syntax and its own words (the functions) which allow to performe operations.

3. For __statistical computing__,  well R has been designed and thought particularly for data analysis, and not so much for software development. Like any programming language, it is more suitable for certain tasks than others, but you'll see that it is not the only thing it can do!

## Alternatives to R and Why R?

1. __SPSS__, very common in humanities, but proprietary software that works best on Windows, no Linux.

2. __SAS__ widely used in sciences, proprietary software.

3. __Stata__ Used in epidemiology, proprietary software

4. __MATLAB__ a nice one, common in maths and engineering, but proprietary software!

5. __Python__ actually very nice! :), and free

__Why R?__ R is FREE!! will work interchangeably (in most cases), it is widely used in social sciences and particularly in psychological/ cognitive sciences and linguistics, and it has a lot of resources online!! In my opinion even more than any other language, but maybe I just became good enough in finding them for R more than other programming languages.

## R vs R studio



![This is the interface of R](C:/Users/uomom/Documents/rcourse/images/RGui.png){width=70%}



![This is the interface of Rstudio](C:/Users/uomom/Documents/rcourse/images/Rstudio_window.png){width=80%}


You can already see that the <b> R </b> interface there looks like a terminal, the command line of an operating system that responds to R code. It works fine, and potentially you could write an R script in your text editor and run it through that terminal. 
While this may work fine, it is not very handy to keep track of your objects or variables that you have created in a particular session, to see in which path you are and to have an overview of your dataframes.

<b> R Studio </b> is a good solution to this!! R studio is an <i> IDE, integrated development environment </i>. It is like a wrapper on R, which makes a lot of tasks easier for you. For example, through R studio you have an integrated text editor, a workspace with all your variables and models that you have defined. Importantly, you can save your workspace and get back to it later, so that you will not need to re-run commands. If you do modelling this can be really important to save you some time since the machine takes long to run them. Further, through R studio for example I created this tutorial!!!
Therefore it allows you to easily interface your R project with Github, to generate html pages and push them online.

Note that there are other _IDE_ for R, R studio is not the only one, but perhaps is the most used. Today we will use that one, but remember that you could always look around for [alternatives](https://www.dunebook.com/best-r-programming-ide/)!!

## R Studio interface


![Image From RLadies NewCastle group](C:/Users/uomom/Documents/rcourse/images/Rstudio.jpg){width=100%}

I like to think about the R studio interface with this nice example from RLadies newcastle group. The interface is like cooking! It is divided in 4 main quadrants: 

1. On the top left we have the __text editor__ our recipe for the perfect pizza dough.

2. On the top right there is our __Variable environment__, where like a kitchen counter you put all your ingredients ready in a little bowl to dress your turbo pizza.

3. On the bottom right we have several windows - it is where several things like plots, or this page can be previewed ( __the viewer__ ), where __help__ pages are displayed, where the __files__ in your path can be seen. Finally, it allows to look at which __packages__(extra kitchen tools) are ready to use for you! Just imagine it like your beautiful cupboard plenty of ingredients.

4. Last but not least, at the bottom left, finally we find the __OVEN!!__ where the cooking really happens, where every step of your recipe (your code) gets executed.

## Installing R and R studio

Right, Installing R is quite trivial, it is quite rare that you will encounter some problems. For today, if you do not have R and R studio installed installed we can easily run our nice R commands through [RStudio.cloud](www.rstudio.cloud). It looks slightly different from a local RStudio session,but the overall R user experience is virtually identical. For what we need in this course, we are fine with their free service, which only requires a little work to register and set up. However, for more computationally intense analyses and for daily usage you'll need to install R in your computer.

You can Download __R__ from [here](https://cran.r-project.org/) for OSx, Windows or Linux.

You can Download __R Studio__ from [here](https://www.rstudio.com/products/rstudio/download/)

For personal use in your computer you can just download R studio Desktop, which is Free and Open Source.



## R Console (the oven)

Let's start to familiarise with the console! Most simply R can be used as a handy __calculator__. 
When we type in the console an addition e.g. (50+50) the R console will do the work for you and return the result when you press enter:

```{r}

50+50

```

You can see the output [1] 100. There it is our result returned in the console!

Obviously you can ask R to handle multiple matematical operations like:

```{r}

50*(54-13)/42-3^2

```


R uses the same __order of operations__ that you learnt at school. That is, first calculates what is inside brackets, then the exponents `^`, then division or multiplication, then addition and subtraction.

At this point you may think that this is not so useful, since you could use your nice calculator, your phone or even the calculator embedded in your OS.

## Calling a function

Of course, operations can get quite complex and most of the times, especially when dealing with a large number of data or with more complex constructs we cannot type in all the values and operations. That is why R allows to write (but this comes later) and call functions.

For example, we can calculate the square root calling the `sqrt` function:

```{r}
sqrt(9)

```

Or even better, we can calculate very easily the sum of a series of numbers instead of typing plus every time

```{r}
sum(1,2,3,4)

```

We can also combine different functions together for example calculating the absolute value of a sum:

```{r}

abs(sum(1,2,-5,-10))
```

What is inside a functions is normally the value you want to perform the calculation for (the X), but also several other __arguments__. Such arguments are useful to enhance or to further characterise the operation you are going to perform.
Let's consider `seq()` as an example:

```{r}
seq(from = 10, to = 20)
```

The function `seq()` gives you a sequence of numbers and requires two arguments, _from_ and _to_ separated by a comma. These are the number from which the sequence starts and finishes, clearly. However, if you specify you can also add the argument _by_ which has to be a number, and indicates the increment of the sequence.

```{r}
seq(from = 10, to = 20, by = 2)

```
You can see that this returned a sequence from 10 to 20 but this time increasing by 2!!

## Ask R for help

But how can we know what a function does and what are the arguments of a function?

Just use the `?` question mark!!
Specifically, use the question mark typing it close to the function name

```{r}
?seq

```

![it will look like this and appear in your viewer!](C:/Users/uomom/Documents/rcourse/images/examplehelp.jpg){width=100%}
You can see below there are all the various arguments you can add!






```{r cars}
summary(cars)
```

## Including Plots

You can also embed plots, for example:

```{r pressure, echo=FALSE}
plot(pressure)
```

Note that the `echo = FALSE` parameter was added to the code chunk to prevent printing of the R code that generated the plot.
